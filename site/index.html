<html>
    <head>Bluetooth Controller</head>
    <body>
        <h1>Found devices:</h1>
        </br>
        <script>

            function sleep(ms) {
                var date = new Date();
                var time = date.getTime();
                while(date.getTime() - time < ws) {
                    console.log("wat");
                }
            }
           var ws = new WebSocket("ws://127.0.0.1:8080");
           console.log("test log");

           //ws.onopen = function(e) {
           //   console.log("Socket opened");
           //   alert("[open] Connection established");
           //   alert("Sending to server");
           //   ws.send("My name is John");
           // };
            ws.onopen = (event) => {
                console.log("Websocket opened");
                ws.send("Test message");
            }

            ws.onclose = (event) => {
                console.log("Connection closed");
            }

            ws.onerror = (error) => {
                console.log("Error code ", error.code)
                console.log("Error ", error.stack);
                console.log("Error ", error.name);
                console.log("Error ", error.message);
            };
        </script>
    </body>
</html>
